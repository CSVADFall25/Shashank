<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Cycling Wheel — p5.js</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html,body{margin:0;height:100%;background:#f7f3ea;font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial}
    #note{
      position:fixed; left:14px; top:10px;
      font-size:14px; color:#222; opacity:.9; z-index:10;
      max-width:240px; line-height:1.35;
    }
    canvas{display:block}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.4/lib/p5.min.js"></script>
</head>
<body>

<div id="note">Drag / scroll / ← → to rotate. One spoke = one day (sum of rides).</div>

<script>
// ---------------------- YOUR CSV ----------------------
const CSV = `startDate,endDate,duration_minutes,totalDistance_miles,totalEnergyBurned_cal,sourceName,sourceVersion,device
2023-10-16 14:08:33 -0700,2023-10-16 14:57:32 -0700,48.99237631758054,11.8938,420.099,JENNIFER ’s Apple Watch,10.0,"<<HKDevice: 0x8150a9e50>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0, creation date:2023-09-01 22:32:59 +0000>"
2023-10-16 16:55:47 -0700,2023-10-16 17:46:11 -0700,50.40321254928907,11.8145,416.826,JENNIFER ’s Apple Watch,10.0,"<<HKDevice: 0x8150a9e50>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0, creation date:2023-09-01 22:32:59 +0000>"
2023-10-18 08:42:33 -0700,2023-10-18 09:28:51 -0700,46.29972703258196,11.8897,250.862,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-18 18:11:39 -0700,2023-10-18 18:57:10 -0700,45.52487846811612,11.501,200.5,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-21 08:39:27 -0700,2023-10-21 08:46:57 -0700,7.501311151186625,1.76709,42.2763,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-21 09:35:33 -0700,2023-10-21 09:47:02 -0700,11.47531121770541,1.95806,52.6588,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-23 09:52:26 -0700,2023-10-23 10:39:23 -0700,46.95281556646029,11.2572,216.403,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-25 09:14:25 -0700,2023-10-25 10:02:27 -0700,48.03884538213412,11.8935,212.395,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-10-25 18:32:41 -0700,2023-10-25 19:27:44 -0700,55.04932845036189,11.8666,195.272,JENNIFER ’s Apple Watch,10.0.2,"<<HKDevice: 0x8150a8d20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.0.2, creation date:2023-10-17 01:44:33 +0000>"
2023-11-06 10:18:17 -0700,2023-11-06 11:01:56 -0700,43.6591849009196,11.6324,195.738,JENNIFER ’s Apple Watch,10.1,"<<HKDevice: 0x8150aab20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1, creation date:2023-10-28 04:44:24 +0000>"
2023-11-08 09:58:25 -0700,2023-11-08 10:47:15 -0700,48.82370081543922,11.8991,192.095,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-08 18:51:37 -0700,2023-11-08 19:24:15 -0700,32.63675906459491,6.2536,155.273,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-11 10:09:01 -0700,2023-11-11 10:36:22 -0700,27.3466988325119,2.04297,40.3925,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-11 11:20:47 -0700,2023-11-11 11:30:39 -0700,9.880170333385468,1.84045,37.195,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-15 10:11:21 -0700,2023-11-15 10:59:40 -0700,48.30296335021655,11.8766,181.597,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-15 17:33:21 -0700,2023-11-15 18:30:14 -0700,56.87521860003471,11.8842,245.017,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-17 10:58:58 -0700,2023-11-17 11:46:32 -0700,47.55556298295657,11.8699,185.205,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-25 10:25:57 -0700,2023-11-25 10:42:48 -0700,16.86307841738065,1.92889,46.8896,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-27 10:21:47 -0700,2023-11-27 11:17:51 -0700,56.06506191690763,13.0637,252.437,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-27 13:49:54 -0700,2023-11-27 14:02:47 -0700,12.87645408511162,1.95909,74.8633,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-11-27 18:37:49 -0700,2023-11-27 19:19:13 -0700,41.39042939742406,10.008,242.355,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2023-12-05 13:42:24 -0700,2023-12-05 13:51:37 -0700,9.218964989980062,2.38801,66.0582,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2024-01-27 09:26:10 -0700,2024-01-27 09:35:19 -0700,9.164845053354899,1.68477,41.835,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2024-01-27 09:55:16 -0700,2024-01-27 10:07:52 -0700,12.58107035557429,1.68298,46.0372,JENNIFER ’s Apple Watch,10.1.1,"<<HKDevice: 0x813585270>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.1.1, creation date:2023-11-08 16:18:24 +0000>"
2024-02-03 10:26:10 -0700,2024-02-03 10:38:21 -0700,12.19033706784248,1.7634,39.4592,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x816f9ada0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2024-02-03 10:58:53 -0700,2024-02-03 11:08:06 -0700,9.202398876349131,1.65455,35.4885,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x816f9ada0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2024-02-10 09:19:20 -0700,2024-02-10 09:39:13 -0700,19.87482084830602,1.9488,43.7907,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x816f9ada0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2024-02-17 09:25:42 -0700,2024-02-17 09:39:07 -0700,13.41630968650182,1.8121,41.6545,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x816f9ada0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2024-02-17 10:28:44 -0700,2024-02-17 10:45:02 -0700,16.29761978387832,1.88166,43.3925,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x816f9ada0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2024-02-24 09:30:25 -0700,2024-02-24 09:40:20 -0700,9.920798232158026,1.6973,40.7802,JENNIFER ’s Apple Watch,10.3,"<<HKDevice: 0x81700ce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:10.3, creation date:2024-01-27 20:40:52 +0000>"
2025-01-06 10:21:29 -0700,2025-01-06 10:43:28 -0700,21.98262703418732,2.73705,112.352,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-06 16:47:09 -0700,2025-01-06 17:11:38 -0700,24.48580273389816,3.14537,93.7137,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-08 10:10:24 -0700,2025-01-08 10:28:38 -0700,18.23782051404317,3.01911,102.786,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-08 16:56:56 -0700,2025-01-08 17:18:50 -0700,21.90745831330617,3.10564,85.728,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-13 10:23:10 -0700,2025-01-13 10:41:42 -0700,18.5234734137853,3.00288,89.333,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-13 16:54:04 -0700,2025-01-13 17:12:05 -0700,18.01299670338631,3.02173,75.433,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-15 09:50:23 -0700,2025-01-15 10:09:24 -0700,19.02491533358892,3.10423,95.106,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-15 16:54:47 -0700,2025-01-15 17:14:51 -0700,20.07367406487465,3.13173,79.1637,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-22 09:46:33 -0700,2025-01-22 10:03:26 -0700,16.8840803583463,2.99616,93.5315,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-22 12:50:45 -0700,2025-01-22 13:10:00 -0700,19.25349324345589,3.12673,81.975,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-27 10:23:30 -0700,2025-01-27 10:42:13 -0700,18.71006818215052,3.07267,85.757,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-27 16:58:01 -0700,2025-01-27 17:22:19 -0700,24.29990461667379,3.14959,88.0448,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-29 10:14:18 -0700,2025-01-29 10:32:21 -0700,18.05453680555026,3.00226,88.3385,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-01-29 13:00:42 -0700,2025-01-29 13:24:53 -0700,24.19407826860746,4.13724,93.3055,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-05 09:52:21 -0700,2025-02-05 10:10:52 -0700,18.53150967558225,3.00171,92.2165,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-05 15:01:26 -0700,2025-02-05 15:21:29 -0700,20.05076224207878,3.04635,73.06,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-07 12:44:48 -0700,2025-02-07 13:08:21 -0700,23.55864469408989,4.31579,136.445,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-07 14:13:30 -0700,2025-02-07 14:33:58 -0700,20.46362559994062,2.91261,70.0805,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-10 10:39:03 -0700,2025-02-10 10:57:46 -0700,18.71382007996241,2.96479,84.7782,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-10 17:01:05 -0700,2025-02-10 17:25:48 -0700,24.7312059978644,3.12875,90.8493,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-12 10:15:14 -0700,2025-02-12 10:34:31 -0700,19.28856186072032,2.95118,80.8133,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-12 16:53:20 -0700,2025-02-12 17:11:01 -0700,17.67927343845367,3.04558,75.8119,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-19 09:50:56 -0700,2025-02-19 10:11:21 -0700,20.42757890423139,2.95373,105.521,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-19 16:29:44 -0700,2025-02-19 16:47:43 -0700,17.98031005660693,3.05438,74.9331,JENNIFER ’s Apple Watch,11.2,"<<HKDevice: 0x8171d8640>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.2, creation date:2024-12-28 21:33:02 +0000>"
2025-02-24 10:24:19 -0700,2025-02-24 10:44:17 -0700,19.96733888785044,2.9877,85.261,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-02-24 16:47:31 -0700,2025-02-24 17:08:13 -0700,20.69566824237506,3.12435,78.0791,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-02-26 09:56:08 -0700,2025-02-26 10:12:29 -0700,16.3522346774737,2.95433,91.5835,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-02-26 16:26:24 -0700,2025-02-26 16:47:34 -0700,21.16716755628586,3.05644,87.394,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-03 10:23:59 -0700,2025-03-03 10:42:53 -0700,18.88557442824046,2.95605,99.272,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-03 16:57:24 -0700,2025-03-03 17:21:33 -0700,24.14356801311175,3.03092,82.449,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x817249590>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-12 09:33:52 -0700,2025-03-12 09:53:14 -0700,19.36421189109484,2.94677,79.5945,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-19 08:46:03 -0700,2025-03-19 09:02:40 -0700,16.62032557328542,2.94192,93.2344,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-19 12:19:12 -0700,2025-03-19 12:37:57 -0700,18.73970668713252,3.05601,77.7213,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-31 09:34:36 -0700,2025-03-31 09:51:49 -0700,17.22119880716006,2.89004,83.4415,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-03-31 16:16:27 -0700,2025-03-31 16:34:22 -0700,17.92612596948942,3.01066,77.7505,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-02 12:40:17 -0700,2025-04-02 12:55:52 -0700,15.58569970528285,2.96241,89.0673,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-02 16:12:00 -0700,2025-04-02 16:33:44 -0700,21.72603306372961,3.0401,77.5635,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-07 16:08:18 -0700,2025-04-07 16:28:29 -0700,20.17386699517568,3.06419,77.2482,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-10 09:53:21 -0700,2025-04-10 10:10:54 -0700,17.5629766245683,2.95631,82.4645,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-10 16:10:29 -0700,2025-04-10 16:31:13 -0700,20.73090221683184,3.00951,90.0993,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-14 09:47:35 -0700,2025-04-14 10:06:08 -0700,18.54836230079333,2.93076,90.304,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-14 16:19:26 -0700,2025-04-14 16:40:23 -0700,20.94711782932281,3.13763,74.9678,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-16 09:43:32 -0700,2025-04-16 10:00:53 -0700,17.34522165854772,2.83221,81.868,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-16 16:16:26 -0700,2025-04-16 16:40:06 -0700,23.67176106770833,3.1054,80.343,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-17 12:49:37 -0700,2025-04-17 13:05:55 -0700,16.28610945542653,2.93209,85.7675,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-17 15:28:07 -0700,2025-04-17 15:46:45 -0700,18.6219580411911,2.99042,75.0507,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-21 09:39:12 -0700,2025-04-21 09:56:55 -0700,17.72194043199221,2.9512,85.7785,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-21 16:24:31 -0700,2025-04-21 16:50:21 -0700,25.83343114654223,3.05852,99.672,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-23 09:59:00 -0700,2025-04-23 10:15:24 -0700,16.39251994490623,2.96231,88.0717,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-23 16:13:26 -0700,2025-04-23 16:38:52 -0700,25.42495645483335,3.03341,82.0325,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-24 09:37:14 -0700,2025-04-24 09:53:11 -0700,15.94742116530736,2.92352,93.6118,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-24 16:15:51 -0700,2025-04-24 16:34:26 -0700,18.58255394895872,3.04851,73.1337,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-28 09:36:35 -0700,2025-04-28 09:53:57 -0700,17.35427931745847,2.96855,85.169,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-04-28 16:18:31 -0700,2025-04-28 16:39:24 -0700,20.87191156744957,3.02648,89.8098,JENNIFER ’s Apple Watch,11.3.1,"<<HKDevice: 0x81724af80>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.3.1, creation date:2025-02-21 00:32:59 +0000>"
2025-05-01 10:22:59 -0700,2025-05-01 10:39:50 -0700,16.85036181211472,2.9683,87.4853,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-01 15:05:26 -0700,2025-05-01 15:14:32 -0700,9.106087493896485,1.31666,30.8297,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-07 09:49:07 -0700,2025-05-07 10:06:15 -0700,17.14218895435333,2.92514,88.0208,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-07 16:27:21 -0700,2025-05-07 16:50:35 -0700,23.23380707105001,3.02585,75.876,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-12 09:44:41 -0700,2025-05-12 10:02:16 -0700,17.58142948150635,2.90935,86.4995,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-12 16:24:35 -0700,2025-05-12 16:45:43 -0700,21.13696519732475,3.06075,87.9855,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-14 09:51:55 -0700,2025-05-14 10:08:17 -0700,16.36163690090179,2.95014,92.7363,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-14 16:18:28 -0700,2025-05-14 16:36:02 -0700,17.55986676414808,3.00904,71.9763,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-15 09:12:01 -0700,2025-05-15 09:29:12 -0700,17.18953729073207,2.92877,94.8375,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-15 16:26:05 -0700,2025-05-15 16:50:55 -0700,24.83198397159576,3.10494,94.1375,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-19 09:44:42 -0700,2025-05-19 10:01:45 -0700,17.05740649104118,2.93293,86.285,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-19 16:20:59 -0700,2025-05-19 16:47:16 -0700,19.73129065831502,3.36703,88.6255,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-28 09:47:29 -0700,2025-05-28 10:03:50 -0700,16.33869023521741,2.92336,91.7434,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-28 16:11:42 -0700,2025-05-28 16:28:20 -0700,16.63449907104174,3.01906,78.8445,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-29 09:47:40 -0700,2025-05-29 10:02:46 -0700,15.1057642797629,2.95805,93.6645,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-05-29 16:17:53 -0700,2025-05-29 16:35:08 -0700,17.23999691009521,3.10138,79.2687,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-02 13:07:45 -0700,2025-06-02 13:25:36 -0700,17.84967123468717,2.96583,90.3523,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-02 16:12:59 -0700,2025-06-02 16:35:54 -0700,22.92341331839561,3.05203,80.0297,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-09 09:35:08 -0700,2025-06-09 09:52:16 -0700,17.12876882751783,2.93995,89.474,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-09 12:22:12 -0700,2025-06-09 12:40:23 -0700,18.17096179922422,3.02209,68.0543,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-12 18:02:43 -0700,2025-06-12 18:18:38 -0700,15.91839972933133,3.018,76.2532,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-19 15:56:02 -0700,2025-06-19 16:12:37 -0700,16.58396311004957,2.93746,65.9767,JENNIFER ’s Apple Watch,11.4,"<<HKDevice: 0x8172f4500>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.4, creation date:2025-05-01 06:12:08 +0000>"
2025-06-24 09:39:05 -0700,2025-06-24 09:56:04 -0700,16.98036023577054,2.93353,88.4345,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-06-26 09:45:03 -0700,2025-06-26 10:02:00 -0700,16.94384833971659,2.97309,90.1642,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-06-26 14:08:52 -0700,2025-06-26 14:33:44 -0700,24.85680170853933,3.09484,99.4949,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-06-30 09:43:18 -0700,2025-06-30 09:58:23 -0700,15.08736862540245,2.90173,90.2421,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-06-30 14:37:01 -0700,2025-06-30 14:54:20 -0700,17.30716366569201,3.00174,75.1513,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-01 09:46:08 -0700,2025-07-01 10:00:52 -0700,14.73248883287112,3.02614,105.623,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-03 10:21:41 -0700,2025-07-03 10:38:51 -0700,17.16473506291707,2.97534,87.0781,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-03 16:23:20 -0700,2025-07-03 16:43:40 -0700,20.33192381858826,3.03566,86.7281,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-09 16:31:27 -0700,2025-07-09 16:49:35 -0700,18.13027212619782,3.0972,89.1694,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-10 09:35:42 -0700,2025-07-10 09:53:51 -0700,18.15521810054779,3.07157,87.472,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-07-10 16:24:09 -0700,2025-07-10 16:48:48 -0700,24.65047417283058,3.11232,84.817,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173493b0>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-25 09:32:14 -0700,2025-08-25 09:48:41 -0700,16.45621079007784,2.94798,83.8657,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-25 12:08:08 -0700,2025-08-25 12:28:59 -0700,20.85429593324661,3.0399,85.1439,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-28 09:35:09 -0700,2025-08-28 09:52:29 -0700,17.34324789444605,2.96406,82.5743,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-28 15:41:19 -0700,2025-08-28 15:59:26 -0700,18.11811737219493,2.99899,73.1832,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-29 09:50:04 -0700,2025-08-29 10:06:47 -0700,16.7301087419192,2.9069,94.5823,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-08-29 17:20:13 -0700,2025-08-29 17:40:47 -0700,20.56810275912285,3.07468,76.35,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-01 09:24:08 -0700,2025-09-01 09:41:41 -0700,17.56089393893878,2.94532,82.8902,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-01 15:56:40 -0700,2025-09-01 16:17:47 -0700,21.11069092551867,3.0278,67.6661,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-03 09:36:01 -0700,2025-09-03 09:54:29 -0700,18.48000640074412,2.94199,79.0211,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-04 10:06:08 -0700,2025-09-04 10:23:38 -0700,17.51096121470134,2.95778,83.1505,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-05 08:43:45 -0700,2025-09-05 08:59:13 -0700,15.46640292803446,3.00535,92.0977,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-05 17:02:36 -0700,2025-09-05 17:24:38 -0700,22.02202358444532,3.01622,86.7115,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-08 10:46:38 -0700,2025-09-08 11:03:39 -0700,17.01385024587313,2.93134,87.132,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-08 16:21:45 -0700,2025-09-08 16:43:43 -0700,21.96011900107066,3.12314,78.2963,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-10 09:20:26 -0700,2025-09-10 09:38:44 -0700,18.2968263109525,2.9586,81.1844,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-10 16:39:10 -0700,2025-09-10 17:01:47 -0700,22.60918095707893,3.07999,80.077,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-11 09:24:02 -0700,2025-09-11 09:44:21 -0700,20.31906595230102,2.9681,85.3765,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-11 16:10:38 -0700,2025-09-11 16:32:02 -0700,21.39335678418477,3.00961,79.719,JENNIFER ’s Apple Watch,11.5,"<<HKDevice: 0x8173bce10>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.5, creation date:2025-06-22 04:51:42 +0000>"
2025-09-15 09:37:01 -0700,2025-09-15 09:54:43 -0700,17.70577625632286,2.92239,79.0585,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-15 15:16:28 -0700,2025-09-15 15:29:13 -0700,12.74997095068296,2.49991,71.8527,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-15 16:21:37 -0700,2025-09-15 16:33:26 -0700,11.81186825831731,1.37573,32.3597,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-17 09:31:56 -0700,2025-09-17 09:49:13 -0700,17.29297589659691,2.92538,83.8785,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-17 16:21:25 -0700,2025-09-17 16:43:01 -0700,21.59006221294403,3.04658,84.411,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-22 09:31:26 -0700,2025-09-22 09:49:14 -0700,17.80235582590103,2.93897,83.6477,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-22 16:33:12 -0700,2025-09-22 16:49:30 -0700,16.29152167240779,2.86983,83.3313,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-23 10:18:03 -0700,2025-09-23 10:35:12 -0700,17.14360127051672,2.97688,97.0446,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-23 16:19:10 -0700,2025-09-23 16:35:58 -0700,16.78970795075099,2.9163,72.0508,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-29 10:54:32 -0700,2025-09-29 11:11:31 -0700,16.98352447152138,2.95153,84.0727,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-29 16:53:36 -0700,2025-09-29 17:12:39 -0700,19.05324548085531,3.00905,69.7717,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-30 09:22:02 -0700,2025-09-30 10:00:15 -0700,30.39598010977109,4.57043,117.042,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-30 15:31:52 -0700,2025-09-30 15:58:16 -0700,26.40334036747614,2.90138,91.202,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-09-30 16:08:33 -0700,2025-09-30 16:16:03 -0700,7.511525197823842,1.1339,22.3538,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-01 09:32:40 -0700,2025-10-01 09:50:04 -0700,17.39660427172979,2.86493,80.868,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-01 17:03:37 -0700,2025-10-01 17:21:50 -0700,18.21568355957667,2.97567,68.4095,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-02 09:34:24 -0700,2025-10-02 09:52:27 -0700,18.05784758130709,2.96348,82.056,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-06 09:48:48 -0700,2025-10-06 10:07:10 -0700,18.37448626359304,2.98162,91.9629,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-06 17:00:55 -0700,2025-10-06 17:19:36 -0700,18.69332501292229,2.9648,69.2228,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-08 09:42:09 -0700,2025-10-08 10:05:52 -0700,23.7102468252182,2.94568,100.084,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-08 17:06:18 -0700,2025-10-08 17:26:12 -0700,19.90376083850861,2.93358,63.9165,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-09 09:31:16 -0700,2025-10-09 09:47:49 -0700,16.54188078840574,2.94669,87.6251,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-09 16:18:16 -0700,2025-10-09 16:41:48 -0700,23.54550732374191,3.07823,77.0512,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-10 09:42:37 -0700,2025-10-10 09:57:38 -0700,15.01893852949143,2.89688,101.066,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-10 16:05:23 -0700,2025-10-10 16:21:59 -0700,16.59889283577601,2.95475,75.3997,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-15 09:24:49 -0700,2025-10-15 09:41:53 -0700,17.06161572933197,2.92229,86.635,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-15 17:01:25 -0700,2025-10-15 17:19:41 -0700,18.26426639556885,2.96661,69.0212,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-17 16:51:00 -0700,2025-10-17 17:17:26 -0700,26.432157878081,3.85717,102.254,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-18 10:43:38 -0700,2025-10-18 11:46:13 -0700,62.59070436954498,13.8799,236.483,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-20 09:47:44 -0700,2025-10-20 10:05:20 -0700,17.60298209389051,3.00939,82.609,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-20 16:56:16 -0700,2025-10-20 17:16:23 -0700,20.10500711798668,3.11047,77.493,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-21 09:40:48 -0700,2025-10-21 10:09:11 -0700,28.39235009551048,2.99087,125.61,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-21 16:26:30 -0700,2025-10-21 16:43:43 -0700,17.22224165399869,3.07963,81.282,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-21 17:19:04 -0700,2025-10-21 17:59:37 -0700,40.54050578474998,4.67644,97.206,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-22 09:36:08 -0700,2025-10-22 09:53:35 -0700,17.44146121740341,3.01245,91.5778,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-22 17:06:57 -0700,2025-10-22 17:26:31 -0700,19.5730600853761,3.07726,72.8203,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-23 09:41:22 -0700,2025-10-23 09:58:16 -0700,16.91217819452286,2.99345,88.2053,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-23 16:18:50 -0700,2025-10-23 16:37:52 -0700,19.04381861686706,3.16733,82.5679,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-25 11:00:34 -0700,2025-10-25 12:00:22 -0700,59.79484648108483,13.371,286.128,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
2025-10-27 09:45:22 -0700,2025-10-27 10:03:24 -0700,18.03135576446851,1.33388,103.141,JENNIFER ’s Apple Watch,11.6.1,"<<HKDevice: 0x8173bff20>, name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch7,3, software:11.6.1, creation date:2025-09-12 09:32:49 +0000>"
"
`;
// ----------------------------------------------------

// ---------- STATE ----------
let days = [];          // [{date,miles,duration,sessions,am,pm,firstMs,lastMs,timeRange}]
let cumMiles = [];      // cumulative miles over days
let maxMiles = 0;
let angle = 0, targetAngle = 0;
let dragging = false, lastX = 0;
let selectedIdx = 0;
let R = 240;            // wheel radius

// ---------- p5 ----------
function setup(){
  createCanvas(windowWidth, windowHeight);
  pixelDensity(2);
  parseCSV(CSV);
  if (!days.length){ noLoop(); return; }
  targetAngle = idxToAngle(selectedIdx);
  angle = targetAngle;
}

function windowResized(){
  resizeCanvas(windowWidth, windowHeight);
}

function draw(){
  background('#f7f3ea');

  push();
  translate(width/2, height*0.48); // center the wheel on page

  angle = lerpAngle(angle, targetAngle, 0.15);

  // wheel base
  noStroke(); fill(255); circle(0,0, R*2 + 28);
  stroke(30,30,30,60); strokeWeight(1); fill(245); circle(0,0,R*2);

  const N = days.length;

  // wedges + spokes
  for (let i = 0; i < N; i++){
    const aMid = angle + (TWO_PI * i / N);
    const a0 = aMid - (PI/N);
    const a1 = aMid + (PI/N);
    const m = days[i].miles;
    const shade = map(m, 0, maxMiles || 1, 250, 210);
    noStroke(); fill(shade);
    arc(0,0,R*2,R*2, a0, a1, PIE);

    stroke(80,80,80,90); strokeWeight(1);
    line(0,0, cos(a0)*R, sin(a0)*R);
  }
  // final spoke to close circle
  {
    const lastA = angle + TWO_PI * ((N-1)/N) + (PI/N);
    stroke(80,80,80,90); strokeWeight(1);
    line(0,0, cos(lastA)*R, sin(lastA)*R);
  }

  // hub
  noStroke(); fill(20); circle(0,0, 26); fill(255); circle(0,0, 14);

  // which day is at the top?
  selectedIdx = nearestIndexAtAngle(-HALF_PI - angle, days.length);

  // highlight selected sector with fill proportional to miles
  drawSelectedFill(days[selectedIdx], selectedIdx);

  // info bubble (rake)
  drawRake(days[selectedIdx]);

  pop();

  drawTimeline();
}

function mousePressed(){ dragging = true; lastX = mouseX; }
function mouseReleased(){ dragging = false; snapToNearest(); }
function mouseDragged(){
  if (!dragging) return;
  const dx = mouseX - lastX; lastX = mouseX;
  targetAngle += dx * 0.006; // sensitivity
}
function mouseWheel(e){
  targetAngle += (e.deltaY>0 ? 1 : -1) * 0.18;
  snapToNearest();
  return false;
}
function keyPressed(){
  if (keyCode===LEFT_ARROW)  step(-1);
  if (keyCode===RIGHT_ARROW) step(+1);
}
function step(dir){
  const N = days.length;
  selectedIdx = (selectedIdx + dir + N) % N;
  targetAngle = idxToAngle(selectedIdx);
}

// ---------- PARSE / UTILS ----------
function parseCSV(text){
  const rows = text.trim().split(/\r?\n/);
  if (rows.length < 2) return;

  const header = rows[0].split(',').map(s=>s.trim());
  const get = (cols, name, fallbackIdx) => {
    let idx = header.findIndex(h => h.toLowerCase() === name.toLowerCase());
    if (idx === -1 && Number.isInteger(fallbackIdx)) idx = fallbackIdx;
    return (cells)=> cells[idx] ?? '';
  };
  const getStart = get(header, 'startDate', 0);
  const getEnd   = get(header, 'endDate', 1);
  const getMin   = get(header, 'duration_minutes', 2);
  const getMiles = get(header, 'totalDistance_miles', 3);

  const byDate = new Map();

  for (let i=1;i<rows.length;i++){
    const cells = splitCSVLine(rows[i]);
    if (!cells.length) continue;

    const startStr = getStart(cells);
    const endStr   = getEnd(cells);
    const ds = parseDateTZ(startStr);
    const de = parseDateTZ(endStr);
    if (!ds || !de) continue;

    const key = `${ds.getFullYear()}-${pad2(ds.getMonth()+1)}-${pad2(ds.getDate())}`;
    const miles = parseFloat(getMiles(cells))||0;
    const mins  = parseFloat(getMin(cells))||0;
    const hour  = ds.getHours();

    if (!byDate.has(key)) byDate.set(key, {
      date:key, miles:0, duration:0, sessions:0, am:false, pm:false,
      firstMs:null, lastMs:null, timeRange:''
    });
    const o = byDate.get(key);
    o.miles    += miles;
    o.duration += mins;
    o.sessions += 1;
    if (hour < 12) o.am = true; else o.pm = true;

    o.firstMs = (o.firstMs===null) ? ds.getTime() : Math.min(o.firstMs, ds.getTime());
    o.lastMs  = (o.lastMs===null)  ? de.getTime() : Math.max(o.lastMs,  de.getTime());
  }

  days = Array.from(byDate.values()).sort((a,b)=> a.date.localeCompare(b.date));

  maxMiles = 0;
  let run = 0; cumMiles = [];
  for (const d of days){
    d.miles = +d.miles;
    run += d.miles; cumMiles.push(run);
    if (d.miles > maxMiles) maxMiles = d.miles;
  }
  for (const d of days){
    d.timeRange = formatTimeRange(d.firstMs, d.lastMs);
  }
}

function splitCSVLine(line){
  const out = []; let cur = '', inQ = false;
  for (let i=0;i<line.length;i++){
    const ch = line[i];
    if (ch === '"'){ inQ = !inQ; continue; }
    if (ch === ',' && !inQ){ out.push(cur); cur=''; continue; }
    cur += ch;
  }
  out.push(cur);
  return out.map(s=>s.trim());
}

function parseDateTZ(s){
  const m = String(s).match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})\s*([+-])(\d{2})(\d{2})$/);
  if (!m) return null;
  const [_,Y,Mo,D,H,Mi,S,sign,tzh,tzm] = m;
  const utc = Date.UTC(+Y,+Mo-1,+D,+H,+Mi,+S);
  const offMin = (+tzh)*60 + (+tzm);
  const offMs = (sign==='+'?1:-1) * offMin * 60000;
  return new Date(utc - offMs);
}

function pad2(n){ return ('0'+n).slice(-2); }

function idxToAngle(i){
  const N = days.length;
  return -HALF_PI - TWO_PI * (i / N);
}
function nearestIndexAtAngle(theta, N){
  let t = (theta % TWO_PI + TWO_PI) % TWO_PI;
  const fraction = t / TWO_PI;
  return Math.round(fraction * (N-1)) % N;
}
function snapToNearest(){
  const N = days.length;
  const idx = nearestIndexAtAngle(-HALF_PI - angle, N);
  targetAngle = idxToAngle(idx);
}
function lerpAngle(a,b,t){
  let d = (b - a + PI) % TWO_PI - PI;
  return a + d * t;
}
function nice(n){ return (Math.round(n*100)/100).toString(); }

function fmtTime12h(ms){
  if (!ms && ms !== 0) return '';
  const t = new Date(ms);
  let h = t.getHours();
  const m = t.getMinutes();
  const am = h < 12;
  h = h % 12; if (h === 0) h = 12;
  return `${h}:${pad2(m)} ${am ? 'AM' : 'PM'}`;
}
function formatTimeRange(aMs, bMs){
  if (!aMs || !bMs) return '—';
  if (Math.abs(bMs - aMs) < 60*1000) return fmtTime12h(aMs);
  return `${fmtTime12h(aMs)} – ${fmtTime12h(bMs)}`;
}

// ---------- DRAW HELPERS ----------
function drawSelectedFill(d, idx){
  const N = days.length;
  const aMid = angle + (TWO_PI * idx / N);
  const a0 = aMid - (PI/N);
  const a1 = aMid + (PI/N);
  const pct = maxMiles ? constrain(d.miles / maxMiles, 0, 1) : 0;
  const rFill = 10 + pct * (R - 10);

  noStroke();
  fill(20, 150);           // subtle dark overlay
  arc(0,0,rFill*2,rFill*2, a0, a1, PIE);
}

function drawRake(d){
  push();
  const w = 220, h = 136, r = 14;
  const y = -R - 28 - h/2;

  rectMode(CENTER);
  noStroke(); fill(255); rect(0, y, w, h, r);
  stroke(0,0,0,60); noFill(); rect(0,y,w,h,r);

  // date + miles
  fill(30); textAlign(CENTER, CENTER);
  textSize(16); text(d.date, 0, y - 24);
  textSize(32); text(nice(d.miles) + " mi", 0, y + 2);

  // time range (requested "B — Show time range") — sit above the bar
  textSize(14);
  text(d.timeRange || '—', 0, y + 26);

  // details row a little lower
  textSize(12);
  const tags = (d.am?"AM":"") + (d.am&&d.pm?"·":"") + (d.pm?"PM":"");
  text(`${Math.round(d.duration)} min · ${d.sessions} ride${d.sessions>1?'s':''} · ${tags||'—'}`, 0, y + 44);

  // tiny bar at bottom showing proportion of max
  const pct = maxMiles ? constrain(d.miles/maxMiles, 0, 1) : 0;
  const barW = w - 44, barH = 9, top = y + h/2 - 22;
  noStroke(); fill(235); rect(0, top, barW, barH, 5);
  fill(40); rect(-barW/2 + pct*barW/2, top, pct*barW, barH, 5);

  // pointer
  noStroke(); fill(0,0,0,70);
  triangle(-7, y + h/2 - 4, 7, y + h/2 - 4, 0, -R + 3);
  pop();
}

function drawTimeline(){
  const left = 48, right = width - 48, y = height - 64;
  stroke(40,40,40,120); strokeWeight(1); line(left, y, right, y);

  const N = cumMiles.length;
  const total = cumMiles[N-1] || 0;
  const xFor = i => map(i, 0, N-1, left, right);

  // month-ish ticks
  stroke(40,40,40,90);
  const step = Math.max(1, Math.floor(N/12));
  for (let i=0;i<N;i+= step){ const x = xFor(i); line(x, y-6, x, y+6); }

  // cumulative line
  noFill(); stroke(30); strokeWeight(2);
  beginShape();
  for (let i=0;i<N;i++){
    const x = xFor(i);
    const yy = map(cumMiles[i], 0, total||1, y, y-68);
    vertex(x, yy);
  }
  endShape();

  // selection marker + date text
  const sx = xFor(selectedIdx);
  stroke(0); line(sx, y-80, sx, y+8);

  noStroke(); fill(30); textAlign(LEFT, CENTER); textSize(12);
  text(`Start (${days[0]?.date||''})`, left, y+18);
  textAlign(CENTER, BOTTOM);
  text(days[selectedIdx]?.date || '', sx, y-82);
  textAlign(RIGHT, CENTER);
  text(`End (${days[days.length-1]?.date||''})  •  Total ${nice(total)} mi`, right, y+18);
}
</script>
</body>
</html>
